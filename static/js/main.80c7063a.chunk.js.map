{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css","App.module.css","Components/Container/Container.module.css","Components/Button/Button.module.css","Components/Container/Container.jsx","Components/SearchBar/SearchBar.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","App.js","index.js","Components/SearchBar/SearchBar.module.css"],"names":["module","exports","Container","children","className","s","container","prototype","PropTypes","object","isRequired","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","evt","preventDefault","props","onSubmit","resetinputValue","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","imgArr","onSelect","imageGallary","map","imgItem","imageGalleryItem","onClick","src","webformatURL","alt","tags","ImageGalleryItemimage","id","arrayOf","Button","onLoadMore","button","func","modalRoot","document","querySelector","Modal","handleKeyEsc","code","onClose","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","imgGallery","imgName","pageNum","perPage","PIXABAY_KEY","selectedObg","status","error","searchBarInputValueHandler","InputValue","trim","loadMoreBtnHandler","prevState","handleSelectObg","obg","toggleMdl","prevProps","length","alert","axios","get","then","response","data","hits","NewImgGallery","catch","scrollTo","top","documentElement","scrollHeight","behavior","largeImageURL","loader","color","height","width","p","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.80c7063a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallary\":\"ImageGallery_imageGallary__zheHz\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__m1TUa\",\"ImageGalleryItemimage\":\"ImageGallery_ImageGalleryItemimage__1Ojup\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3OtJm\",\"modal\":\"Modal_modal__1nzTl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"App_loader__x5KR3\",\"p\":\"App_p__36gh4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1TfMB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1o45S\"};","import React from 'react';\r\nimport s from './Container.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Container = ({ children }) => <div className={s.container}>{children}</div>;\r\n\r\nContainer.prototype = {\r\n    children: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Container;","import React, { Component } from 'react';\r\nimport s from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n\r\n  state = {\r\n    inputValue: '',\r\n  }\r\n\r\n  handleChange = e => {\r\n\r\n    this.setState({ inputValue: e.target.value });\r\n    // this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.resetinputValue();\r\n    //  console.log('kkk')\r\n  };\r\n\r\n  resetinputValue = () => {\r\n    this.setState(\r\n      {\r\n        inputValue: '',\r\n      }\r\n    )\r\n\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n\r\n          />\r\n        </form>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGallery({ imgArr, children, onSelect }) {\r\n\r\n    return (\r\n\r\n        <ul className={s.imageGallary}>\r\n            {imgArr.map((imgItem) =>\r\n                <li className={s.imageGalleryItem} key={imgItem.id} onClick={() => onSelect(imgItem)} >\r\n                    <img src={imgItem.webformatURL} alt={imgItem.tags} className={s.ImageGalleryItemimage} />\r\n                </li>)\r\n            }\r\n\r\n        </ul >\r\n    )\r\n}\r\nImageGallery.prototype = {\r\n    imgArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n}\r\nexport default ImageGallery;","import React from 'react';\r\nimport s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\nconst Button = ({ onLoadMore }) => {\r\n    return (\r\n        <button onClick={() => onLoadMore()} type='button' className={s.button}>Load more</button>\r\n    )\r\n}\r\n\r\nButton.prototype = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n}\r\nexport default Button;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n\r\n        window.addEventListener('keydown', this.handleKeyEsc);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n\r\n        window.removeEventListener('keydown', this.handleKeyEsc);\r\n\r\n    };\r\n\r\n    handleKeyEsc = evt => {\r\n\r\n        if (evt.code === 'Escape')\r\n        {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    handleOverlayClick = evt => {\r\n\r\n        if (evt.currentTarget === evt.target)\r\n        {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={s.overlay} onClick={this.handleOverlayClick}>\r\n                <div className={s.modal}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        )\r\n    }\r\n}\r\n\r\n// Modal.prototype = {\r\n\r\n//     onClose: PropTypes.func.isRequired,\r\n//     children: PropTypes.object.isRequired,\r\n// }\r\n\r\nexport default Modal;\r\n\r\n","import React, { Component } from 'react';\r\nimport Container from './Components/Container/Container';\r\nimport SearchBar from './Components/SearchBar/SearchBar';\r\nimport axios from 'axios';\r\nimport ImageGallery from './Components/ImageGallery/ImageGallery'\r\n// import ImageGalleryItem from './Components/ImageGalleryItem/ImageGalleryItem'\r\nimport Button from './Components/Button/Button';\r\nimport Modal from './Components/Modal/Modal';\r\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from './App.module.css';\r\n\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    imgGallery: [],\r\n    imgName: '',\r\n    pageNum: 1,\r\n    perPage: 12,\r\n    PIXABAY_KEY: '21694115-487a2c793b7208539d5182bab',\r\n    selectedObg: null,\r\n    status: 'idle',\r\n    error: null,\r\n\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    if (this.state.imgGallery.length === 0 && this.state.status === 'resolved')\r\n      {\r\n\r\n      alert(`Sorry, we did not find such pictures ${this.state.imgName}`)\r\n      \r\n      this.setState({\r\n        status: 'idle'\r\n      })\r\n\r\n      }\r\n\r\n    if (this.state.status === 'pending')\r\n    {\r\n      axios.get(`https://pixabay.com/api/?key=${ this.state.PIXABAY_KEY }&q=${ this.state.imgName }&image_type=photo&page=${ this.state.pageNum }&per_page=${ this.state.perPage }&image_type=photo&orientation=horizontal&`)\r\n        .then(function (response) {\r\n\r\n          return response.data.hits;\r\n\r\n        }\r\n      ).then(NewImgGallery =>\r\n            this.setState(prevState => ({\r\n            imgGallery: [...prevState.imgGallery, ...NewImgGallery],\r\n            status: 'resolved',\r\n          }))\r\n\r\n      )\r\n        .catch(\r\n          error => this.setState({ error: 'error', status: \"rejected\" })\r\n        )\r\n\r\n    }\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n  };\r\n\r\n  searchBarInputValueHandler = (InputValue) => {\r\n\r\n    if (InputValue.trim() !== '')\r\n    {\r\n      this.setState({\r\n        imgName: InputValue,\r\n        status: \"pending\"\r\n\r\n      })\r\n    }\r\n\r\n    if (this.state.imgName !== InputValue)\r\n    {\r\n      {\r\n        this.setState({\r\n          imgGallery: [],\r\n          pageNum: 1,\r\n        })\r\n      }\r\n    }\r\n  };\r\n\r\n  loadMoreBtnHandler = () => {\r\n    this.setState(prevState => ({\r\n      pageNum: prevState.pageNum += 1,\r\n      status: \"pending\"\r\n    }))\r\n\r\n  };\r\n\r\n  handleSelectObg = (obg) => {\r\n\r\n    this.setState({\r\n      selectedObg: obg,\r\n      status: 'pending'\r\n    })\r\n  }\r\n\r\n  toggleMdl = (evt) => {\r\n\r\n    this.setState(({ selectedObg }) => ({\r\n      selectedObg: null,\r\n\r\n    }))\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Container>\r\n        <SearchBar onSubmit={this.searchBarInputValueHandler} />\r\n        <ImageGallery\r\n          imgArr={this.state.imgGallery}\r\n          onSelect={this.handleSelectObg}\r\n        >\r\n        </ImageGallery>\r\n        {this.state.status === 'resolved' && <Button onLoadMore={this.loadMoreBtnHandler} />}\r\n\r\n        {this.state.selectedObg && <Modal onClose={this.toggleMdl} >\r\n          <img src={this.state.selectedObg.largeImageURL} alt={this.state.selectedObg.largeImageURL} />\r\n          <button\r\n            type='button'\r\n            onClick={this.toggleMdl}\r\n          >Close</button>\r\n        </Modal>}\r\n\r\n        {this.state.status === 'pending' &&\r\n          <div className = {s.loader}>\r\n          <Loader\r\n              type=\"TailSpin\"\r\n              color=\"#00BFFF\"\r\n              height={200}\r\n              width={200}\r\n            />\r\n            <p className = {s.p}>Loading...</p>\r\n          </div>\r\n        }\r\n\r\n      </Container>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3msru\",\"SearchForm\":\"SearchBar_SearchForm__3lGA9\",\"SearchFormButton\":\"SearchBar_SearchFormButton__aAjtS\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1uyhj\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1G41F\"};"],"sourceRoot":""}